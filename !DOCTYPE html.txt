<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>ZTM Bus Display</title>

<style>
body {
  margin: 0;
  background: white;
  font-family: Arial, Helvetica, sans-serif;
}

#top {
  display: flex;
  align-items: center;
  border-bottom: 4px solid #000;
}

#lineBox {
  background: purple;
  color: white;
  width: 160px;
  height: 120px;
  font-size: 72px;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: center;
}

#type {
  background: purple;
  color: white;
  font-size: 16px;
  text-align: center;
  padding: 2px;
}

#nextStop {
  flex: 1;
  font-size: 32px;
  padding-left: 20px;
}

#nextStop span {
  font-weight: bold;
}

#route {
  position: relative;
  height: 160px;
  margin-top: 20px;
}

.line {
  position: absolute;
  top: 80px;
  left: 50px;
  right: 50px;
  height: 6px;
  background: purple;
}

.stop {
  position: absolute;
  top: 70px;
  width: 14px;
  height: 14px;
  background: white;
  border: 4px solid purple;
  border-radius: 50%;
}

.stop.active {
  background: purple;
}

.stop-name {
  position: absolute;
  top: 10px;
  transform: rotate(-45deg);
  transform-origin: left;
  font-size: 14px;
  white-space: nowrap;
}

#footer {
  margin-top: 10px;
  background: red;
  color: white;
  padding: 6px 20px;
  font-weight: bold;
}
</style>
</head>

<body>

<!-- GÓRA -->
<div id="top">
  <div>
    <div id="lineBox">123</div>
    <div id="type">LINIA ZWYKŁA</div>
  </div>
  <div id="nextStop">
    NEXT STOP (ON REQUEST): <span id="nextName">CHODAKOWSKA</span>
  </div>
</div>

<!-- TRASA -->
<div id="route">
  <div class="line"></div>
</div>

<!-- DÓŁ -->
<div id="footer">
  PRAGA-POŁUDNIE
</div>

<script>
// ====== PRZYSTANKI (REALNY UKŁAD) ======
const stops = [
  "LUBELSKA",
  "ŻUPNICZA",
  "CHODAKOWSKA",
  "MIŃSKA",
  "TOR KOLARSKI",
  "SIENIORSKA",
  "DWERNICKIEGO",
  "WATRACZNA",
  "ZAMENHOFA",
  "GOCŁAW"
];

// ====== SYMULACJA POZYCJI (INDEX PRZYSTANKU) ======
let currentIndex = 2; // aktualny przystanek

// ====== RYSOWANIE TRASY ======
const route = document.getElementById("route");

stops.forEach((name, i) => {
  const x = 50 + (i * ((route.offsetWidth - 100) / (stops.length - 1)));

  const stop = document.createElement("div");
  stop.className = "stop";
  stop.style.left = x + "px";
  stop.id = "stop-" + i;

  const label = document.createElement("div");
  label.className = "stop-name";
  label.style.left = x + "px";
  label.innerText = name;

  route.appendChild(stop);
  route.appendChild(label);
});

// ====== AKTUALIZACJA ======
function update() {
  stops.forEach((_, i) => {
    document.getElementById("stop-" + i).classList.remove("active");
  });

  if (currentIndex < stops.length) {
    document.getElementById("stop-" + currentIndex).classList.add("active");
    document.getElementById("nextName").innerText = stops[currentIndex];
  } else {
    document.getElementById("nextName").innerText = "KONIEC TRASY";
  }
}

// ====== SYMULACJA JAZDY ======
setInterval(() => {
  currentIndex++;
  if (currentIndex > stops.length) currentIndex = 0;
  update();
}, 3000);

update();
</script>

</body>
</html>
